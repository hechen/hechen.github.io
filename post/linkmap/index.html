<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>é€šè¿‡ LinkMap åšå´©æºƒæ—¥å¿—åˆ†å‘ - I make stuff</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="chen" />
  <meta name="description" content="LinkMap æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬ç¼–å†™çš„ä»£ç éƒ½æ˜¯è¦ç»è¿‡ç¼–è¯‘ï¼Œé“¾æ¥ç­‰ä¸€æ­¥ä¸€æ­¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚è€Œ LinkMap æ–‡ä»¶æ˜¯ Xcode äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶çš„åŒæ—¶ç”Ÿæˆçš„é“¾æ¥ä¿¡æ¯ï¼Œç”¨æ¥æè¿°å¯æ‰§è¡Œæ–‡ä»¶çš„æ„" />

  <meta name="keywords" content="Chen, iOS, Swift, Productivity, macOS, Cocoa" />






<meta name="generator" content="Hugo 0.55.3" />


<link rel="canonical" href="https://hechen.xyz/post/linkmap/" />



<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.ec807d8b802a40889537c26e014f733206312ea440d42e1f0dabed80918de1ac.css" integrity="sha256-7IB9i4AqQIiVN8JuAU9zMgYxLqRA1C4fDavtgJGN4aw=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="é€šè¿‡ LinkMap åšå´©æºƒæ—¥å¿—åˆ†å‘" />
<meta property="og:description" content="LinkMap æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬ç¼–å†™çš„ä»£ç éƒ½æ˜¯è¦ç»è¿‡ç¼–è¯‘ï¼Œé“¾æ¥ç­‰ä¸€æ­¥ä¸€æ­¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚è€Œ LinkMap æ–‡ä»¶æ˜¯ Xcode äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶çš„åŒæ—¶ç”Ÿæˆçš„é“¾æ¥ä¿¡æ¯ï¼Œç”¨æ¥æè¿°å¯æ‰§è¡Œæ–‡ä»¶çš„æ„" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hechen.xyz/post/linkmap/" />
<meta property="article:published_time" content="2018-11-18T17:29:54&#43;08:00"/>
<meta property="article:modified_time" content="2019-04-01T10:20:38&#43;08:00"/>

<meta itemprop="name" content="é€šè¿‡ LinkMap åšå´©æºƒæ—¥å¿—åˆ†å‘">
<meta itemprop="description" content="LinkMap æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬ç¼–å†™çš„ä»£ç éƒ½æ˜¯è¦ç»è¿‡ç¼–è¯‘ï¼Œé“¾æ¥ç­‰ä¸€æ­¥ä¸€æ­¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚è€Œ LinkMap æ–‡ä»¶æ˜¯ Xcode äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶çš„åŒæ—¶ç”Ÿæˆçš„é“¾æ¥ä¿¡æ¯ï¼Œç”¨æ¥æè¿°å¯æ‰§è¡Œæ–‡ä»¶çš„æ„">


<meta itemprop="datePublished" content="2018-11-18T17:29:54&#43;08:00" />
<meta itemprop="dateModified" content="2019-04-01T10:20:38&#43;08:00" />
<meta itemprop="wordCount" content="3423">



<meta itemprop="keywords" content="Crash,LinkMap,Dispatch," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="é€šè¿‡ LinkMap åšå´©æºƒæ—¥å¿—åˆ†å‘"/>
<meta name="twitter:description" content="LinkMap æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬ç¼–å†™çš„ä»£ç éƒ½æ˜¯è¦ç»è¿‡ç¼–è¯‘ï¼Œé“¾æ¥ç­‰ä¸€æ­¥ä¸€æ­¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚è€Œ LinkMap æ–‡ä»¶æ˜¯ Xcode äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶çš„åŒæ—¶ç”Ÿæˆçš„é“¾æ¥ä¿¡æ¯ï¼Œç”¨æ¥æè¿°å¯æ‰§è¡Œæ–‡ä»¶çš„æ„"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Chen</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/about/">About</a>
          
        
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Chen
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/categories/">Categories</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://hechen.xyz/about/">About</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">é€šè¿‡ LinkMap åšå´©æºƒæ—¥å¿—åˆ†å‘</h1>
      
      <div class="post-meta">
        <time datetime="2018-11-18" class="post-time">
          2018-11-18
        </time>
        <div class="post-category">
            <a href="https://hechen.xyz/categories/ios/"> iOS </a>
            
          </div>
        

        
        

        
        
          <span id="/post/linkmap/" class="leancloud_visitors" data-flag-title="é€šè¿‡ LinkMap åšå´©æºƒæ—¥å¿—åˆ†å‘">
            <span class="post-meta-item-text"> | é˜…è¯» </span>
            <span class="leancloud-visitors-count"></span>
          </span>
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">æ–‡ç« ç›®å½•</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#linkmap-æ˜¯ä»€ä¹ˆ">LinkMap æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="#å¦‚ä½•ç”Ÿæˆ">å¦‚ä½•ç”Ÿæˆï¼Ÿ</a></li>
<li><a href="#linkmap-å†…å®¹è§£æ">LinkMap å†…å®¹è§£æ</a>
<ul>
<li><a href="#å¤´éƒ¨åŸºç¡€ä¿¡æ¯">å¤´éƒ¨åŸºç¡€ä¿¡æ¯</a></li>
<li><a href="#ç±»ä¿¡æ¯">ç±»ä¿¡æ¯</a></li>
<li><a href="#æ®µä¿¡æ¯">æ®µä¿¡æ¯</a></li>
<li><a href="#ç¬¦å·ä¿¡æ¯">ç¬¦å·ä¿¡æ¯</a></li>
</ul></li>
<li><a href="#linkmap-èƒ½ç”¨æ¥åšä»€ä¹ˆ">LinkMap èƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="#æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹ï¼š</a>
<ul>
<li><a href="#å…³äº-symbol-åŒ¹é…è§„åˆ™">å…³äº Symbol åŒ¹é…è§„åˆ™</a></li>
</ul></li>
<li><a href="#crash-è§£æ">Crash è§£æ</a></li>
<li><a href="#å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h2 id="linkmap-æ˜¯ä»€ä¹ˆ">LinkMap æ˜¯ä»€ä¹ˆï¼Ÿ</h2>

<p>æˆ‘ä»¬ç¼–å†™çš„ä»£ç éƒ½æ˜¯è¦ç»è¿‡ç¼–è¯‘ï¼Œé“¾æ¥ç­‰ä¸€æ­¥ä¸€æ­¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚è€Œ LinkMap æ–‡ä»¶æ˜¯ Xcode äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶çš„åŒæ—¶ç”Ÿæˆçš„é“¾æ¥ä¿¡æ¯ï¼Œç”¨æ¥æè¿°å¯æ‰§è¡Œæ–‡ä»¶çš„æ„é€ æˆåˆ†ï¼ŒåŒ…æ‹¬ä»£ç æ®µï¼ˆ<strong>TEXTï¼‰å’Œæ•°æ®æ®µï¼ˆ</strong>DATAï¼‰çš„åˆ†å¸ƒæƒ…å†µã€‚LinkMap è¯´ç™½äº†å°±æ˜¯æ•´ä¸ªé“¾æ¥è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°çš„ç›®æ ‡æ–‡ä»¶çš„è®°å½•ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ã€‚</p>

<h2 id="å¦‚ä½•ç”Ÿæˆ">å¦‚ä½•ç”Ÿæˆï¼Ÿ</h2>

<p>å…·ä½“ç”Ÿæˆéœ€è¦ Xcode é…åˆå¼€å¯æŸä¸ªå‚æ•°ï¼Œå…·ä½“åœ¨å¯¹åº” App çš„ä¸» Target çš„ Build Setting é€‰é¡¹é‡Œï¼Œå‚æ•°ä¸º Write Link Map Fileï¼Œå°†å…¶ä¿®æ”¹ä¸º YESï¼Œå³å¯åœ¨ç¼–è¯‘é˜¶æ®µç”Ÿæˆå¯¹åº”çš„ Link Map æ–‡ä»¶ã€‚ å¯¹åº” Proj æ–‡ä»¶ä¸­çš„å‚æ•°ä¸º LD_GENERATE_MAP_FILE</p>

<p><img src="https://i.imgur.com/wpKkAGW.png" alt="" /></p>

<p>LinkMap æ–‡ä»¶ç”Ÿæˆçš„é»˜è®¤åœ°å€å¦‚ä¸‹ï¼Œå…¶å®åœ¨ä¸Šå›¾ä¸­çš„ Path to Link Map File å°±èƒ½çœ‹åˆ°ï¼Œå¯ä»¥æŒ‡å®šä¸åŒ Scheme ä¸‹çš„æ–‡ä»¶è·¯å¾„ï¼Œæˆ‘è¿™é‡Œç›´æ¥ä½¿ç”¨é»˜è®¤è·¯å¾„äº†ï¼ˆåªæ˜¯æœ‰ç‚¹é•¿ï¼‰ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">$(TARGET_TEMP_DIR)/$(PRODUCT_NAME)-LinkMap-$(CURRENT_VARIANT)-$(CURRENT_ARCH).txt</pre></td></tr></table>
</div>
</div>
<p>é‚£å®é™…åœ¨æˆ‘çš„ç”µè„‘ä¸Šï¼Œç»“åˆçŸ¥ä¹ iOS å·¥ç¨‹ï¼Œç¼–è¯‘å®Œæˆä¹‹ååœ¨ DerivedData ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€å † build å‰¯äº§å“ï¼Œå…¶ä¸­åç§°ä¸º {Target}-LinkMap-xxx.txt æ–‡ä»¶å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ LinkMap æ–‡ä»¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>

<p><img src="https://i.imgur.com/24Su9xe.png" alt="" /></p>

<h2 id="linkmap-å†…å®¹è§£æ">LinkMap å†…å®¹è§£æ</h2>

<p>ä½¿ç”¨çŸ¥ä¹ä¸»é¡¹ç›® Debug Scheme ä¸‹ç¼–è¯‘å®Œæˆä¹‹åï¼Œåœ¨ Derived Data ç›®å½•ä¸‹ç”Ÿæˆçš„ LinkMap æ–‡ä»¶å¤§å°è¾¾åˆ°äº† 120+Mã€‚å…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª txt æ–‡ä»¶ï¼Œæˆ‘ä»¬çœ‹ä¸‹ä¸»è¦åŒ…å«å‡ ä¸ªéƒ¨åˆ†ï¼š</p>

<h3 id="å¤´éƒ¨åŸºç¡€ä¿¡æ¯">å¤´éƒ¨åŸºç¡€ä¿¡æ¯</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">Path: /Users/chen/Library/Developer/Xcode/DerivedData/osee2unified-fwevarpdypzxobaetkykvdvesdbf/Build/Products/Debug-iphonesimulator/osee2unifiedRelease.app/osee2unifiedRelease
Arch: x86_64</pre></td></tr></table>
</div>
</div>
<h3 id="ç±»ä¿¡æ¯">ç±»ä¿¡æ¯</h3>

<p>åˆ—ä¸¾å¯æ‰§è¡Œæ–‡ä»¶ä¸­æ‰€æœ‰çš„ .obj æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œç¬¬ä¸€åˆ—ä¸ºå¯¹åº”çš„ç±»æ–‡ä»¶ç¼–å·ï¼Œæˆ‘ä»¬åœ¨ä»£ç æ–‡ä»¶ä¸­ç¼–è¯‘å®Œæˆçš„ç±»éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ Object File. å…¶ä¸­ç¬¬ä¸€åˆ—çš„æ–‡ä»¶ç¼–å·åœ¨åç»­ç¬¦å·è¿›è¡ŒæŸ¥æ‰¾å›æº¯æ¥æºçš„æ—¶å€™æœ‰ç”¨ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></pre></td>
<td class="lntd">
<pre class="chroma">    # Object files:
    
    [ 0] linker synthesized
    [ 1] dtrace
    [ 2] /Users/chen/Library/Developer/Xcode/DerivedData/osee2unified-fwevarpdypzxobaetkykvdvesdbf/Build/Intermediates.noindex/osee2unified.build/Debug-iphonesimulator/osee2unifiedRelease.build/Objects-normal/x86_64/ZHEmailAutocompleteTextField.o
    [ 3] /Users/chen/Library/Developer/Xcode/DerivedData/osee2unified-fwevarpdypzxobaetkykvdvesdbf/Build/Intermediates.noindex/osee2unified.build/Debug-iphonesimulator/osee2unifiedRelease.build/Objects-normal/x86_64/ZHURLProtocolStartupItem.o
    ...
    [7808] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftQuartzCore.dylib
    [7809] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftCore.dylib
    [7810] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftFoundation.dylib
    [7811] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftCoreGraphics.dylib
    [7812] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftDispatch.dylib
    [7813] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftDarwin.dylib
    [7814] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftUIKit.dylib
    [7815] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftSwiftOnoneSupport.dylib
    [7816] /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftObjectiveC.dylib</pre></td></tr></table>
</div>
</div>
<h3 id="æ®µä¿¡æ¯">æ®µä¿¡æ¯</h3>

<p>ç¬¬äºŒéƒ¨åˆ†ï¼Œä¸»è¦ç¼–è¯‘é˜¶æ®µç”Ÿæˆçš„ Section ä¿¡æ¯ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></pre></td>
<td class="lntd">
<pre class="chroma">    # Sections:
    
    # Address Size Segment Section
    
    0x100002860 0x04B8E6AD __TEXT __text
    0x104B90F0E 0x0000A0B0 __TEXT __stubs
    0x104B9AFC0 0x00005C9A __TEXT __stub_helper
    0x104BA0C60 0x00259CBE __TEXT __cstring
    0x104DFA91E 0x00188A6C __TEXT __objc_methname
    0x104F8338A 0x0002E326 __TEXT __objc_classname
    0x104FB16B0 0x00066ABF __TEXT __objc_methtype
    0x105018170 0x000267C6 __TEXT __ustring
    0x10503E938 0x0029C500 __TEXT __gcc_except_tab
    0x1052DAE40 0x000CE490 __TEXT __const
    0x1053A92D0 0x000493AC __TEXT __swift3_typeref
    0x1053F267C 0x00017BCC __TEXT __swift3_capture
    0x10540A250 0x0000E6B7 __TEXT __swift3_reflstr
    0x105418908 0x000112EC __TEXT __swift3_fieldmd
    0x105429BF4 0x00002850 __TEXT __swift3_assocty
    0x10542C448 0x00007BA0 __TEXT __swift2_proto
    0x105433FE8 0x000011F0 __TEXT __swift2_types
    0x1054351D8 0x000007BC __TEXT __swift3_builtin
    0x105435994 0x00000378 __TEXT __entitlements
    0x105435D0C 0x0000037B __TEXT __dof_RACSignal
    0x105436087 0x000002E8 __TEXT __dof_RACCompou
    0x105436370 0x00069B70 __TEXT __unwind_info
    0x10549FEE0 0x0002D120 __TEXT __eh_frame
    0x1054CD000 0x00000010 __DATA __nl_symbol_ptr
    0x1054CD010 0x000037D0 __DATA __got
    0x1054D07E0 0x0000D640 __DATA __la_symbol_ptr
    0x1054DDE20 0x00000CC0 __DATA __mod_init_func
    0x1054DEAE0 0x00000008 __DATA __mod_term_func
    0x1054DEAF0 0x0019A0A0 __DATA __const
    0x105678B90 0x000E2940 __DATA __cfstring
    0x10575B4D0 0x0000DF48 __DATA __objc_classlist
    0x105769418 0x00000108 __DATA __objc_nlclslist
    0x105769520 0x00001468 __DATA __objc_catlist
    0x10576A988 0x000001D8 __DATA __objc_nlcatlist
    0x10576AB60 0x000022C0 __DATA __objc_protolist
    0x10576CE20 0x00000008 __DATA __objc_imageinfo
    0x10576CE28 0x005E2510 __DATA __objc_const
    0x105D4F338 0x0005EBB0 __DATA __objc_selrefs
    0x105DADEE8 0x000009B8 __DATA __objc_protorefs
    0x105DAE8A0 0x0000B890 __DATA __objc_classrefs
    0x105DBA130 0x000088B0 __DATA __objc_superrefs
    0x105DC29E0 0x00033288 __DATA __objc_ivar
    0x105DF5C68 0x0009EDB8 __DATA __objc_data
    0x105E94A20 0x0008EDE0 __DATA __data
    0x105F23800 0x0001A034 __DATA __bss
    0x105F3D840 0x00004168 __DATA __common</pre></td></tr></table>
</div>
</div>
<p>å…¶ä¸­æè¿°äº†å„ä¸ªæ®µåœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„åœ°å€ï¼Œå…·ä½“çš„æ®µå¤§å°ä»¥åŠè¯¥æ®µçš„ç±»åˆ«ã€‚ä»å†…å®¹å¯ä»¥çœ‹åˆ°æ¯ä¸ªæ®µçš„åœ°å€éƒ½æ˜¯ä¸Šä¸€ä¸ªæ®µçš„åœ°å€+ä¸Šä¸€æ®µçš„å¤§å°æ‰€å¾—ã€‚ å…·ä½“å…¬å¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">Address(n) = Address(n-1) + Size(n-1)</pre></td></tr></table>
</div>
</div>
<p>ä½†æ˜¯ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œä¼šå°†æ®µåœ°å€è¿›è¡Œä¸€å®šçš„åç§»ï¼Œè®©åœ°å€åœ¨å¸¦å®½çš„æ•´æ•°å€ä½ç½®å¯åŠ¨ï¼Œå› æ­¤æœ‰å¯èƒ½ä¼šæœ‰ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸‹é¢å®é™…ä¸Šçœ‹åˆ°çš„åœ°å€æ˜¯ <strong>0x104B90F0E</strong>ã€‚å®˜æ–¹æ–‡æ¡£æœ‰è¯´æ˜ï¼š</p>

<blockquote>
<p>For best performance, segments should be aligned on virtual memory page boundariesâ€”4096 bytes for PowerPC and x86 processors. To calculate the size of a segment, add up the size of each section, then round up the sum to the next virtual memory page boundary (4096 bytes, or 4 kilobytes). Using this algorithm, the minimum size of a segment is 4 kilobytes, and thereafter it is sized at 4 kilobyte increments.</p>
</blockquote>

<p>å…¶ä¸­ç¬¬ä¸‰åˆ—æ ‡è®°å‡ºäº†è¯¥æ®µçš„ç±»å‹ï¼Œæ¯”å¦‚ ä»£ç æ®µï¼Œæ•°æ®æ®µç­‰ä¿¡æ¯ï¼Œç¬¬å››åˆ—åˆ—ä¸¾é™¤äº†çœŸå®ä»£ç å—æ‰€å¯¹åº”ç”Ÿæˆçš„ Sectionï¼Œ è¿™é‡Œéœ€è¦ç»™å¤§å®¶å†å¼ºè°ƒä¸‹ Segment å’Œ Section çš„åŒºåˆ«å’Œè”ç³»ã€‚</p>

<blockquote>
<p>æˆ‘ä»¬çŸ¥é“ Mach-O æ˜¯ iOS å’Œ OSX ç³»ç»Ÿä¸Šä½¿ç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ç±»å‹ï¼Œç±»ä¼¼äº Linux ç³»ç»Ÿä¸‹çš„ ELFï¼ˆExecutable Linkable Formatï¼‰ æ–‡ä»¶æ ¼å¼ä»¥åŠ Windows ä¸Šä½¿ç”¨çš„ PE(Portable Executable) æ–‡ä»¶æ ¼å¼ï¼Œå…¶æœ¬è´¨ä¸Šéƒ½æ˜¯åŸºäºæœ€æ—©çš„ COFFï¼ˆCommon file formatï¼‰çš„å˜ç§ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªç›®å‰å¤§å®¶æ‰€ç†ŸçŸ¥çš„å°±æ˜¯é’ˆå¯¹å‚ä¸ç¼–è¯‘çš„ä»£ç æ–‡ä»¶ä¸­ä¸åŒéƒ¨åˆ†çš„ä»£ç æœ€åä¼šè¢«ç¼–è¯‘è¿›å…¥ä¸åŒçš„ Section ä¸­ï¼Œæ¯”å¦‚ä»£ç æ®µ .text æ•°æ®æ®µ .data ç­‰ã€‚åç»­åœ¨å‘å±•è™šæ‹Ÿå­˜å‚¨åœ°å€å’Œå†…å­˜ç‰©ç†åœ°å€çš„å¯¹åº”å…³ç³»ä¸­ï¼Œå› ä¸ºä¸ºäº†é¿å…æ®µè¿‡å¤šå¯¼è‡´çš„ç©ºé—´æµªè´¹é—®é¢˜ï¼Œå¯¹äºç›¸åŒæƒé™çš„æ®µè¢«åˆå¹¶åˆ°äº†ä¸€èµ·ä½œä¸ºä¸€ä¸ªæ®µè¿›è¡Œæ˜ å°„ï¼Œå‰è€…å°±æ˜¯ä¹‹å‰çš„ sectionï¼Œåè€…å°±æ˜¯ Segmentã€‚
å®é™…ä¸Š Segment çš„æ¦‚å¿µæ˜¯ä»è£…è½½çš„è§’åº¦é‡æ–°åˆ’åˆ†äº† ELF æ–‡ä»¶çš„å„ä¸ªæ®µã€‚å°†ç›®æ ‡æ–‡ä»¶é“¾æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶çš„æ—¶å€™ï¼Œé“¾æ¥å™¨ä¼šå°½é‡æŠŠç›¸åŒæƒé™å±æ€§çš„æ®µåˆ†é…åœ¨åŒä¸€ç©ºé—´ã€‚åœ¨ ELF ä¸­æŠŠè¿™äº›å±æ€§ç›¸ä¼¼çš„åˆè¿åœ¨ä¸€èµ·çš„æ®µå«åšä¸€ä¸ª Segmentã€‚
Segment å’Œ Section æ˜¯ä»ä¸åŒçš„è§’åº¦æ¥åˆ’åˆ†åŒä¸€ä¸ªELFæ–‡ä»¶ã€‚è¿™ä¸ªåœ¨ELFä¸­è¢«ç§°ä¸ºä¸åŒçš„è§†å›¾ï¼ˆViewï¼‰ï¼Œä»â€œSectionâ€çš„è§’åº¦æ¥çœ‹ELFæ–‡ä»¶å°±æ˜¯é“¾æ¥è§†å›¾ï¼ˆLinking Viewï¼‰ï¼Œä»â€œSegmentâ€çš„è§’åº¦æ¥çœ‹å°±æ˜¯æ‰§è¡Œè§†å›¾ï¼ˆExecution Viewï¼‰ã€‚å½“æˆ‘ä»¬åœ¨è°ˆåˆ°ELFè£…è½½æ—¶ï¼Œâ€œæ®µâ€ä¸“é—¨æŒ‡â€œSegmentâ€ï¼›è€Œåœ¨å…¶ä»–çš„æƒ…å†µä¸‹ï¼Œâ€œæ®µâ€æŒ‡çš„æ˜¯ Sectionã€‚</p>
</blockquote>

<h3 id="ç¬¦å·ä¿¡æ¯">ç¬¦å·ä¿¡æ¯</h3>

<p>ç¬¬ä¸‰éƒ¨åˆ†å°±æ˜¯å…·ä½“çš„æ¯ä¸€é¡¹ç¬¦å·ä¿¡æ¯ï¼Œå…·ä½“æ˜¯ä½ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚åœ¨å†…å­˜æ˜ åƒä¸­çš„åœ°å€ä»¥åŠæ‰€å±çš„æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œç¬¬ä¸‰åˆ—ä¸­çš„ Index æŒ‡çš„å°±æ˜¯ä¸Šé¢å…·ä½“æ¯ä¸€ä¸ª object file åˆ—è¡¨ä¸­ç¬¬ä¸€åˆ—çš„åºå·ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span></pre></td>
<td class="lntd">
<pre class="chroma">    # Symbols:
    
    # Address Size File Name
    
    0x100002860 0x000000D0 [ 2] -[ZHEmailAutocompleteTextField initWithFrame:]
    0x100002930 0x00000690 [ 2] -[ZHEmailAutocompleteTextField setupAutocompleteTextField]
    0x100002FC0 0x000007B0 [ 2] -[ZHEmailAutocompleteTextField textField:completionForPrefix:ignoreCase:]
    0x100003770 0x00000030 [ 2] -[ZHEmailAutocompleteTextField emailDomains]
    0x1000037A0 0x00000040 [ 2] -[ZHEmailAutocompleteTextField setEmailDomains:]
    0x1000037E0 0x00000033 [ 2] -[ZHEmailAutocompleteTextField .cxx_destruct]
    0x100003820 0x00000020 [ 3] -[ZHURLProtocolStartupItem introduction]
    0x100003840 0x0000014A [ 3] -[ZHURLProtocolStartupItem execute:]
    
    ...
    
    0x104BA0C32 0x0000000A [7816] __T010ObjectiveC2eeoiSbAA8SelectorV_ADtF
    0x104BA0C3C 0x0000000A [7816] __T010ObjectiveC2eeoiSbSo8NSObjectC_ADtF
    0x104BA0C46 0x0000000A [7816] __T010ObjectiveC8SelectorV11descriptionSSvg
    0x104BA0C50 0x0000000A [7816] __T010ObjectiveC8SelectorV9hashValueSivg
    0x104BA0C60 0x00000027 [ 2] literal string: kNSObjectUpdateThemeNormalNotification
    0x104BA0C87 0x00000025 [ 2] literal string: kNSObjectUpdateThemeHighNotification
    0x104BA0CAC 0x0000000C [ 2] literal string: emailDomain
    0x104BA0CB8 0x0000000A [ 2] literal string: [gmail.com](http://gmail.com/)
    0x104BA0CC2 0x00000009 [ 2] literal string: [live.com](http://live.com/)
    0x104BA0CCB 0x0000000C [ 2] literal string: [hotmail.com](http://hotmail.com/)
    
    ...
    
    0x104DFA7D6 0x00000018 [7802] literal string: T@&#34;NSArray&#34;,R,N,V_codes
    0x104DFA7EE 0x00000011 [7805] literal string: kCFAllocatorNull
    0x104DFA7FF 0x0000001C [7805] literal string: CFDataCreateWithBytesNoCopy
    0x104DFA81B 0x0000001D [7805] literal string: CFPropertyListCreateWithData
    0x104DFA838 0x00000020 [7805] literal string: CFPropertyListCreateFromXMLData
    0x104DFA858 0x00000020 [7805] literal string: CFStringCreateWithCStringNoCopy
    0x104DFA878 0x00000015 [7805] literal string: CFDictionaryGetValue
    0x104DFA88D 0x0000000C [7805] literal string: CFGetTypeID
    0x104DFA899 0x00000012 [7805] literal string: CFStringGetTypeID
    0x104DFA8AB 0x00000013 [7805] literal string: CFStringGetCString
    0x104DFA8BE 0x0000000A [7805] literal string: CFRelease
    0x104DFA8C8 0x00000031 [7805] literal string: /System/Library/CoreServices/SystemVersion.plist
    0x104DFA8F9 0x00000016 [7805] literal string: IPHONE_SIMULATOR_ROOT
    0x104DFA90F 0x0000000F [7805] literal string: ProductVersion
    0x104DFA91E 0x0000000F [ 2] literal string: initWithFrame:
    0x104DFA92D 0x00000011 [ 2] literal string: setKeyboardType:
    0x104DFA93E 0x0000001B [ 2] literal string: setupAutocompleteTextField
    
    ...
    
    0x104F83383 0x00000007 [7802] literal string: _codes
    0x104F8338A 0x0000001D [ 2] literal string: ZHEmailAutocompleteTextField
    0x104F833A7 0x00000019 [ 2] literal string: ZHAutocompleteDataSource
    0x104F833C0 0x00000009 [ 2] literal string: NSObject
    0x104F833C9 0x00000002 [ 2] literal string:
    0x104F833CB 0x00000019 [ 3] literal string: ZHURLProtocolStartupItem
    
    ...
    
    0x104FB165B 0x00000016 [7802] literal string: PLCrashReporterConfig
    0x104FB1671 0x00000020 [7802] literal string: PLCrashUncaughtExceptionHandler
    0x104FB1691 0x0000001F [7802] literal string: PLCrashReportMachExceptionInfo
    0x104FB16B0 0x0000000B [ 2] literal string: B24@0:8@16
    0x104FB16BB 0x00000008 [ 2] literal string: #16@0:8
    0x104FB16C3 0x00000008 [ 2] literal string: @16@0:8
    0x104FB16CB 0x0000000B [ 2] literal string: @24@0:8:16
    0x104FB16D6 0x0000000E [ 2] literal string: @32@0:8:16@24
    0x104FB16E4 0x00000011 [ 2] literal string: @40@0:8:16@24@32
    0x104FB16F5 0x00000008 [ 2] literal string: B16@0:8
    
    ...
    
    0x10501808E 0x00000042 [7802] literal string: @228@0:8{plcrash_mach_exception_port_set=I[13I][13I][13i][13i]}16
    0x1050180D0 0x0000003E [7802] literal string: {plcrash_mach_exception_port_set=I[13I][13I][13i][13i]}16@0:8
    0x10501810E 0x00000061 [7802] literal string: {plcrash_mach_exception_port_set=&#34;count&#34;I&#34;masks&#34;[13I]&#34;ports&#34;[13I]&#34;behaviors&#34;[13i]&#34;flavors&#34;[13i]}
    0x105018170 0x0000002C [ 3] l_.str.465
    0x10501819C 0x0000000C [ 5] l_.str.5
    0x1050181A8 0x00000010 [ 5] l_.str.9
    0x1050181B8 0x0000000A [ 5] l_.str.13
    0x1050181C2 0x0000000E [ 5] l_.str.15
    0x1050181D0 0x00000042 [ 5] l_.str.17
    0x105018212 0x00000006 [ 5] l_.str.138
    
    ...</pre></td></tr></table>
</div>
</div>
<p>çœ‹åˆ°åœ¨ File ä¸€åˆ—ä¸­çš„æ•°å­—å°±æŒ‡ä»£ç¬¬ä¸€éƒ¨åˆ†ç»Ÿè®¡å‡ºæ¥çš„å„ä¸ª .o æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸‹é¢å‰å‡ è¡Œè®°å½• File ä¸º 2ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€éƒ¨åˆ†ä¸­è®°å½•çš„ ZHEmailAutocompleteTextField.o ï¼Œç„¶åå…¶ä¸­ç¬¬ä¸€åˆ—åœ°å€æ˜¯è¯¥ç¬¦å·åœ¨æŒ‡å®š .o æ–‡ä»¶ä¸­çš„åœ°å€ï¼Œæˆ‘ä»¬é€šè¿‡çœ‹è¯¥åœ°å€èƒ½å¤ŸçŸ¥é“å…¶å¤„äºç¬¬äºŒéƒ¨åˆ†å“ªä¸ªæ®µä¸­ï¼Œæ¯”å¦‚ç¬¬ä¸€è¡Œçš„ <code>initWithFrame</code> ä½äº <strong>TEXT.</strong>text ä¸­ï¼Œåœ°å€ä¸º 0x100002860ï¼Œå ç”¨å¤§å°ä¸º 208 å­—èŠ‚ã€‚</p>

<p>å› æ­¤ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æŸ¥æ‰¾æŸä¸€ä¸ª Symbol æ‰€å±çš„ Framework çš„è¯ï¼Œå°±èƒ½å¤Ÿé€šè¿‡ index å›æº¯åˆ°å…·ä½“ object æ–‡ä»¶ã€‚</p>

<h2 id="linkmap-èƒ½ç”¨æ¥åšä»€ä¹ˆ">LinkMap èƒ½ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h2>

<p>æ—¢ç„¶äº†è§£äº† LinkMap å…·ä½“çš„æ–‡ä»¶ç»“æ„ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç”¨è¿™ä¸ªæ–‡ä»¶æ¥åšä»€ä¹ˆï¼Ÿ</p>

<p>é¦–å…ˆï¼Œæ˜¯è¯¥æ–‡ä»¶åˆ—ä¸¾äº†æ‰€æœ‰è¢«æ‰“å…¥å¯æ‰§è¡Œæ–‡ä»¶çš„åº“æ–‡ä»¶ä¸­æ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶ï¼ˆç†è§£ä¸€ä¸ªç›®æ ‡æ–‡ä»¶å°±æ˜¯ä¸€ä¸ª Sourceï¼‰ï¼Œæ— è®ºæ˜¯ framework è¿˜æ˜¯ é™æ€åº“æ–‡ä»¶éƒ½æœ‰ï¼Œå¹¶ä¸”ç»™å‡ºäº†æ¯ä¸ª Symbol çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå›æº¯åˆ°è¯¥ Symbol å¯¹åº”çš„ç›®æ ‡æ–‡ä»¶ï¼Œè¿›è€Œèƒ½å¤ŸçŸ¥é“è¯¥ç›®æ ‡æ–‡ä»¶æ‰€å¤„çš„ frameworkã€‚</p>

<p>ä¾‹å¦‚ï¼Œå¦‚ä¸‹å›¾ï¼Œä» bugly ä¸Šçœ‹åˆ°æŸä¸€ä¸ª Crash å‘ç”Ÿçš„åœ°æ–¹ï¼Œæˆ‘ä»¬é¦–å…ˆå®šä½å’ŒçŸ¥ä¹ App æœ¬èº«ç›¸å…³çš„å †æ ˆå¦‚ä¸‹æ‰€ç¤ºï¼Œä»å †æ ˆä¿¡æ¯æå–å‡ºå…·ä½“çš„ Symbol æ˜¯ <code>[ZHPinTextView touchesEnded:withEvent:]</code></p>

<p><img src="https://i.imgur.com/pegf6J6.png" alt="" /></p>

<p>é‚£æˆ‘ä»¬é€šè¿‡åœ¨ LinkMap æ–‡ä»¶ä¸­æŸ¥æ‰¾è¯¥ç¬¦å·ï¼Œå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p>

<p><img src="https://i.imgur.com/IeWodUn.png" alt="" /></p>

<p>å¯ä»¥ç¡®å®šä¸º Index ä¸º 5135 çš„ç›®æ ‡æ–‡ä»¶ä¸­çš„ Symbolï¼Œé‚£æ­¤æ—¶é€šè¿‡å›æº¯ Object æ–‡ä»¶ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹ï¼š</p>

<p><img src="https://i.imgur.com/tKUEqKE.png" alt="" /></p>

<p>è¿™æ ·å°±å¯ä»¥å¾ˆç¡®å®šè¯¥ Symbol å‡ºè‡ªäº ZHModuleDB.framework äº†ã€‚ è¿™ä¹Ÿæ˜¯ç›®å‰åŸºç¡€æ¶æ„ç»„æ­£åœ¨å¼€å‘çš„ Crash åˆ†æåˆ†å‘å¹³å° Argus ä¸­åˆ†å‘å‰ç«¯ iOS è¿™ä¸€ç¯å¾—ä»¥å®ç°å®šå‘åˆ†å‘çš„çš„åŸºç¡€ã€‚</p>

<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„æ–‡ä»¶ç»“æ„å¯ä»¥çŸ¥é“æ¯ä¸€ä¸ª Framework éƒ½æœ‰å¤šå°‘ ç›®æ ‡æ–‡ä»¶ï¼ˆ.o æ–‡ä»¶ï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ª .o æ–‡ä»¶çš„å¤§å°æ˜¯å¤šå°‘ï¼Œå°±å¯ä»¥ç®—å‡ºæ¥æ¯ä¸ª framework çš„æ€»ä½“å¤§å°ã€‚è¿™æ ·å¯ä»¥æœ‰ä¸¤ä¸ªäº‹æƒ…ï¼š</p>

<ol>
<li>ç»Ÿè®¡å¯æ‰§è¡ŒåŒ…ä¸­æ¯ä¸ªä¸šåŠ¡æ¨¡å—å…·ä½“å ç”¨å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ä»¥åŠå æ¯”</li>
<li>å¯¹æ¯”ä¸åŒç‰ˆæœ¬ï¼Œå¯ä»¥çŸ¥é“æ¯ä¸ªå…·ä½“æ¨¡å—æ–°å¢æ–‡ä»¶å¤§å°ï¼Œä»è€Œå¯ä»¥åšå‡ºä¸»åŠ¨æŠ¥è­¦æ¥å¯¹åŒ…ä½“ç§¯å¤§å°åšä¸€å®šçš„æ§åˆ¶</li>
</ol>

<h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹ï¼š</h2>

<h3 id="å…³äº-symbol-åŒ¹é…è§„åˆ™">å…³äº Symbol åŒ¹é…è§„åˆ™</h3>

<p>å› ä¸ºçœŸå®çš„ Symbol ä¼šè¢«ç¼–è¯‘ç³»ç»Ÿè¿›è¡Œä¸€å®šç¨‹åº¦çš„ç­¾åï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ç²¾å‡†åŒ¹é…ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯é€šè¿‡æ¨¡ç³ŠæŸ¥æ‰¾ï¼Œåœ¨å®ç°çš„æ—¶å€™é€šè¿‡æ­£åˆ™åŒ¹é…æˆ–è€…å°½å¯èƒ½çš„ç¼©å° Symbol æŸ¥æ‰¾ç²¾å‡†åº¦æ¥åšï¼Œè¿˜æœ‰å°±æ˜¯ Swift ä¸­çš„ Symbol å› ä¸ºåŠ å…¥äº† namespace å’Œ method overload çš„æ¦‚å¿µå¯¼è‡´ç¬¦å·ä¿¡æ¯æ›´æ˜¯ä¸èƒ½å®Œå…¨åŒ¹é…ã€‚</p>

<p>ä¸¾ä¸ªğŸŒ°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">æ¯”å¦‚åœ¨ ZHPaymentSDK ä¸­å®šä¹‰äº†æŸä¸ª swift ç±»ä¸º  KMSubscriptionLauncher.swift æ–‡ä»¶ä¸­å®šä¹‰ä¸ªæ–¹æ³•ï¼š</pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">@objc public func subscribe(withSkuID skuID: String?, autoRenewable: Bool = true, begin: SubscriptionBeginCallback?, cancel: SubscriptionCancelledCallback?, pollingBegin: SubscriptionBeginPollingCallback?, success: SubscriptionSuccessCallback?, failed: SubscriptionFailedCallback?) { }</pre></td></tr></table>
</div>
</div>
<p>ç”Ÿæˆå¯¹åº”ç¬¦å·çš„æ—¶å€™ï¼Œç³»ç»Ÿå°±ä¼šæŠŠæ‰€æœ‰çš„å¯ç”¨çš„æ–¹æ³•å…¨ç”Ÿæˆå‡ºæ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></pre></td>
<td class="lntd">
<pre class="chroma">0x104587950 0x00000008 [7834] _*T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFfA0*
    0x104587958 0x000004B0 [7834] __T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtF
    0x104587E08 0x00000038 [7834] l_objectdestroy
    0x104587E40 0x00000868 [7834] _*T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFyycfU*
    0x1045886A8 0x000000F4 [7834] l_objectdestroy.8
    0x10458879C 0x00000078 [7834] __T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFyycfU_TA
    0x104588814 0x000000B4 [7834] _*T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFyycfU_yAEcfU*
    0x1045888C8 0x00000244 [7834] _*T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFyycfU_yAE_SaySSGSgtcfU0*
    0x104588B0C 0x000000B4 [7834] _*T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFyycfU_yAEcfU1*
    0x104588BC0 0x00000168 [7834] _*T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFyycfU_yAN_AEtcfU2*
    0x104588D28 0x00000164 [7834] _*T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFyycfU_yAN_AEtcfU2_s23CustomStringConvertible_pyXKfu*
    0x104588E8C 0x00000134 [7834] _*T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFySo16ZHKMContractInfoCSg_ANtcfU0*
    0x104588FC0 0x0000005C [7834] l_objectdestroy.11
    0x10458901C 0x0000002C [7834] __T012ZHPaymentSDK22KMSubscriptionLauncherC9subscribeySSSg9withSkuID_Sb13autoRenewableyycSg5beginAH6cancelAH12pollingBeginAH7successys5Error_pSgcSg6failedtFySo16ZHKMContractInfoCSg_ANtcfU0_TA</pre></td></tr></table>
</div>
</div>
<p>è¿™å°±æ˜¯ç¬¦å·ä¿®é¥°å’Œæ–¹æ³•ç­¾åï¼Œè¶Šæ˜¯å¤æ‚çš„è¯­æ³•ï¼Œä¿®é¥°æœºåˆ¶è¶Šæ˜¯å¤æ‚ã€‚æ¯”å¦‚å¤§åé¼é¼çš„ C++ ï¼ŒçœŸçš„ç®—æ˜¯ä¸€é—¨å¤æ‚è¯­è¨€äº†ï¼Œå…¶æ‹¥æœ‰ç±»ã€ç»§æ‰¿ã€è™šæœºåˆ¶ã€é‡è½½ã€åç§°ç©ºé—´ç­‰è¿™äº›ç‰¹æ€§ï¼Œå®ƒä»¬ä½¿å¾—ç¬¦å·ç®¡ç†æ›´ä¸ºå¤æ‚ã€‚ ä¸“ä¸šæœ¯è¯­å« Name Manglingã€‚ Swift åœ¨ä¸€å®šç¨‹åº¦ä¸Šå€Ÿé‰´äº†å…¶ç­¾åæœºåˆ¶ï¼Œä¸è¿‡æˆ‘ä»¬ä¸ç”¨æ·±ç©¶ï¼Œå¦‚æœæƒ³çŸ¥é“å…¶å¯¹åº”çš„åŸç¬¦å·ç­¾åï¼Œä½¿ç”¨ç°æœ‰å·¥å…·å³å¯ã€‚</p>

<p>XCode æœ‰å‘½ä»¤å¯ä»¥ demangle è¿™äº›ç¬¦å·ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">xcrun swift-demangle xxxxxxx</pre></td></tr></table>
</div>
</div>
<h2 id="crash-è§£æ">Crash è§£æ</h2>

<p>ä»¥ä¸Šï¼Œæˆ‘ä»¬äº†è§£äº† LinkMap éƒ½æ˜¯ä»€ä¹ˆå¹¶ä¸”èƒ½å¤Ÿåšä»€ä¹ˆäº†ï¼Œç”¨ Python å†™äº†ä¸€æ®µè„šæœ¬ï¼Œæ”¾åœ¨äº† <a href="https://github.com/hechen/CrashReportParser">Github</a> ä¸Šï¼Œæœ‰å…´è¶£å¯ä»¥ç”¨ä¸€ä¸‹ã€‚</p>

<h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h2>

<ol>
<li><a href="https://mikeash.com/pyblog/friday-qa-2014-08-15-swift-name-mangling.html">mikeash.com: Friday Q&amp;A 2014-08-15: Swift Name Mangling</a></li>
<li><a href="https://github.com/mattgallagher/CwlDemangle/">mattgallagher/CwlDemangle</a></li>
</ol>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">æ–‡ç« ä½œè€…</span>
    <span class="item-content">chen</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">ä¸Šæ¬¡æ›´æ–°</span>
    <span class="item-content">2019-04-01</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">è®¸å¯åè®®</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://hechen.xyz/tags/crash/">Crash</a>
          <a href="https://hechen.xyz/tags/linkmap/">LinkMap</a>
          <a href="https://hechen.xyz/tags/dispatch/">Dispatch</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/send-to-2do/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">å¦‚ä½•åˆ¶ä½œ Send to 2Do çš„ Safari ä¹¦ç­¾</span>
            <span class="prev-text nav-mobile">ä¸Šä¸€ç¯‡</span>
          </a>
        
          <a class="next" href="/post/reading-process/">
            <span class="next-text nav-default">é˜…è¯»æµç¨‹</span>
            <span class="prev-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "hechen/Comments"
            issue-term="pathname"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  <div class="disqus-comment">
  <div class="disqus-button" id="load_disqus" onclick="load_disqus()">
    æ˜¾ç¤º Disqus è¯„è®º
  </div>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = "https://hechen.xyz/post/linkmap/";
    };
    function load_disqus() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'stoneman';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      $('#load_disqus').remove();
    };
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  </div>
  
    



        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:hechen.dream@gmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://stackoverflow.com/users/10229101/chen-he" rel="me noopener" class="iconfont"
      title="stack-overflow"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M809.714286 932.571429l-638.857143 0 0-274.285714-91.428571 0 0 365.714286 821.714286 0 0-365.714286-91.428571 0 0 274.285714zm-538.285714-299.428571l18.857143-89.714286 447.428571 94.285714-18.857143 89.142857zm58.857143-213.714286l38.285714-83.428571 414.285714 193.714286-38.285714 82.857143zm114.857143-203.428571l58.285714-70.285714 350.857143 293.142857-58.285714 70.285714zm226.857143-216l272.571429 366.285714-73.142857 54.857143-272.571429-366.285714zm-410.285714 840.571429l0-90.857143 457.142857 0 0 90.857143-457.142857 0z"></path>
</svg>

    </a>
  
    <a href="https://twitter.com/OgreMergO" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="https://weibo.com/hc2feifei" rel="me noopener" class="iconfont"
      title="weibo"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M385.714286 733.714286q12-19.428571 6.285714-39.428571t-25.714286-28.571429q-19.428571-8-41.714286-0.571429t-34.285714 26.285714q-12.571429 19.428571-7.428571 39.142857t24.571429 28.857143 42.571429 1.428571 35.714286-27.142857zm53.714286-69.142857q4.571429-7.428571 2-15.142857t-10-10.571429q-8-2.857143-16.285714 2.857143t-12.285714 10.571429q-9.714286 17.714286 7.428571 25.714286 8 2.857143 16.571429 2.857143t12.571429-10.571429zm99.428571 61.142857q-25.714286 58.285714-90.285714 85.714286t-128 6.857143q-61.142857-19.428571-84.285714-72.285714t3.714286-107.142857q26.857143-53.142857 86.571429-79.428571t120.285714-10.857143q63.428571 16.571429 90.571429 68.285714t1.428571 108.857143zm178.285714-91.428571q-5.142857-54.857143-50.857143-97.142857t-119.142857-62.285714-156.857143-12q-127.428571 13.142857-211.142857 80.857143t-75.714286 151.142857q5.142857 54.857143 50.857143 97.142857t119.142857 62.285714 156.857143 12q127.428571-13.142857 211.142857-80.857143t75.714286-151.142857zm176 2.285714q0 38.857143-21.142857 79.714286t-62.285714 78.285714-96.285714 67.142857-129.142857 47.428571-154.571429 17.714286-157.142857-19.142857-137.428571-53.142857-98-86.285714-37.142857-114q0-65.714286 39.714286-140t112.857143-147.428571q96.571429-96.571429 195.142857-134.857143t140.857143 4q37.142857 36.571429 11.428571 119.428571-2.285714 8-0.571429 11.428571t5.714286 4 8.285714 2.857143 7.714286-2l3.428571-1.142857q79.428571-33.714286 140.571429-33.714286t87.428571 34.857143q25.714286 36 0 101.714286-1.142857 7.428571-2.571429 11.428571t2.571429 7.142857 6.857143 4.285714 9.714286 3.428571q32.571429 10.285714 58.857143 26.857143t45.714286 46.571429 19.428571 66.571429zm-42.285714-356.571429q24 26.857143 31.142857 62t-3.714286 67.142857q-4.571429 13.142857-16.857143 19.428571t-25.428571 2.285714q-13.142857-4.571429-19.428571-16.857143t-2.285714-25.428571q11.428571-36-13.714286-63.428571t-61.142857-20q-13.714286 2.857143-25.714286-4.571429t-14.285714-21.142857q-2.857143-13.714286 4.571429-25.428571t21.142857-14.571429q34.285714-7.428571 68 3.142857t57.714286 37.428571zm103.428571-93.142857q49.714286 54.857143 64.285714 127.142857t-7.714286 138q-5.142857 15.428571-19.428571 22.857143t-29.714286 2.285714-22.857143-19.428571-2.857143-29.714286q16-46.857143 5.714286-98.285714t-45.714286-90.285714q-35.428571-39.428571-84.571429-54.571429t-98.857143-4.857143q-16 3.428571-29.714286-5.428571t-17.142857-24.857143 5.428571-29.428571 24.857143-16.857143q70.285714-14.857143 139.428571 6.571429t118.857143 76.857143z"></path>
</svg>

    </a>


<a href="https://hechen.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2015 -
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        chen
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  







  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script type="text/javascript">
    AV.initialize("wgbxcKzgAuMNE8wvfGp38xwG-gzGzoHsz", "JPVrQwSXVrxiVVsK3WoViro4");
  </script>

  <script>
    function showHitCount(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push($(this).attr("id").trim());
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var hits = item.get('hits');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(hits);
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if (countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function (results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("hits");
            counter.save(null, {
              success: function (counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('hits'));
              },
              error: function (counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
             
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
             
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("hits", 1);
            newcounter.save(null, {
              success: function (newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('hits'));
              },
              error: function (newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function (error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function () {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        
        addCount(Counter);
      } else if ($('.post-link').length > 1) {
        
        showHitCount(Counter);
      }
    });
  </script>



  <script id="dsq-count-scr" src="//stoneman.disqus.com/count.js" async></script>





</body>
</html>
